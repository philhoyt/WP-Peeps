(()=>{"use strict";var e={223:(e,o,t)=>{t.d(o,{A:()=>l});var r=t(573),p=t(790);const l=(0,p.jsx)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(r.Path,{d:"m3 5c0-1.10457.89543-2 2-2h13.5c1.1046 0 2 .89543 2 2v13.5c0 1.1046-.8954 2-2 2h-13.5c-1.10457 0-2-.8954-2-2zm2-.5h6v6.5h-6.5v-6c0-.27614.22386-.5.5-.5zm-.5 8v6c0 .2761.22386.5.5.5h6v-6.5zm8 0v6.5h6c.2761 0 .5-.2239.5-.5v-6zm0-8v6.5h6.5v-6c0-.27614-.2239-.5-.5-.5z",fillRule:"evenodd",clipRule:"evenodd"})})},641:(e,o,t)=>{t.d(o,{A:()=>l});var r=t(573),p=t(790);const l=(0,p.jsx)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(r.Path,{d:"m9.99609 14v-.2251l.00391.0001v6.225h1.5v-14.5h2.5v14.5h1.5v-14.5h3v-1.5h-8.50391c-2.76142 0-5 2.23858-5 5 0 2.7614 2.23858 5 5 5z"})})},839:(e,o,t)=>{t.d(o,{A:()=>l});var r=t(573),p=t(790);const l=(0,p.jsx)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(r.Path,{d:"M4.75 4a.75.75 0 0 0-.75.75v7.826c0 .2.08.39.22.53l6.72 6.716a2.313 2.313 0 0 0 3.276-.001l5.61-5.611-.531-.53.532.528a2.315 2.315 0 0 0 0-3.264L13.104 4.22a.75.75 0 0 0-.53-.22H4.75ZM19 12.576a.815.815 0 0 1-.236.574l-5.61 5.611a.814.814 0 0 1-1.153 0L5.5 12.264V5.5h6.763l6.5 6.502a.816.816 0 0 1 .237.574ZM8.75 9.75a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"})})},790:e=>{e.exports=window.ReactJSXRuntime},715:e=>{e.exports=window.wp.blockEditor},997:e=>{e.exports=window.wp.blocks},427:e=>{e.exports=window.wp.components},582:e=>{e.exports=window.wp.coreData},143:e=>{e.exports=window.wp.data},723:e=>{e.exports=window.wp.i18n},573:e=>{e.exports=window.wp.primitives}},o={};function t(r){var p=o[r];if(void 0!==p)return p.exports;var l=o[r]={exports:{}};return e[r](l,l.exports,t),l.exports}t.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return t.d(o,{a:o}),o},t.d=(e,o)=>{for(var r in o)t.o(o,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:o[r]})},t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o);var r=t(997),p=t(723),l=t(715),n=t(427),i=t(582),s=t(143),c=t(641),a=t(223),d=t(839),h=t(790);const x=["core/bold","core/image","core/italic","core/link","core/strikethrough","core/text-color"],v=[{title:(0,p.__)("Paragraph","peeps-people-directory"),value:"p",icon:c.A},{title:(0,p.__)("Div","peeps-people-directory"),value:"div",icon:a.A},{title:(0,p.__)("Span","peeps-people-directory"),value:"span",icon:d.A}],w=JSON.parse('{"UU":"ph-peeps/phone"}');(0,r.registerBlockType)(w.UU,{edit:function({attributes:e,setAttributes:o,isSelected:t,context:r}){const{tagName:c,makeLink:a,prefix:d,textAlign:w}=e,{postType:u,postId:g}=r,m=(0,l.useBlockProps)({className:w?`has-text-align-${w}`:void 0}),_=(0,s.useSelect)((e=>g?e(i.store).getEntityRecord("postType",u||"ph_peeps_people",g):null),[g,u]),b=(0,s.useSelect)((e=>e(i.store).getEntityRecord("root","site")?.ph_peeps_phone_format||"(###) ###-####"),[]),f=_?.meta?.ph_peeps_phone,j=((e,o)=>{if(!e||!o)return o||"";const t=e.replace(/[^0-9]/g,"");let r=o;for(let e=0;e<t.length&&e<(o.match(/#/g)||[]).length;e++)r=r.replace("#",t[e]);return r.replace(/#/g,"")})(f||"",b),y=c,k=f?(0,h.jsx)("a",{href:`tel:${f.replace(/[^0-9+]/g,"")}`,children:j}):j,P=(0,h.jsxs)(h.Fragment,{children:[(t||d)&&(0,h.jsx)(l.RichText,{identifier:"prefix",allowedFormats:x,className:"wp-block-ph-peeps-phone__prefix","aria-label":(0,p.__)("Prefix"),placeholder:(0,p.__)("Prefix","peeps-people-directory")+" ",value:d,onChange:e=>o({prefix:e}),tagName:"span"}),a?k:j]}),S=v.find((e=>e.value===c));return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(l.BlockControls,{children:(0,h.jsx)(n.ToolbarGroup,{children:(0,h.jsx)(n.ToolbarDropdownMenu,{icon:S?.icon,label:(0,p.__)("Change text element","peeps-people-directory"),controls:v.map((e=>({title:e.title,icon:e.icon,isActive:e.value===c,onClick:()=>o({tagName:e.value})})))})})}),(0,h.jsx)(l.InspectorControls,{children:(0,h.jsx)(n.PanelBody,{title:(0,p.__)("Phone Settings","peeps-people-directory"),children:(0,h.jsx)(n.ToggleControl,{label:(0,p.__)("Make Phone Link","peeps-people-directory"),checked:a,onChange:()=>o({makeLink:!a}),help:a?(0,p.__)("Phone number will be clickable","peeps-people-directory"):(0,p.__)("Phone number will be plain text","peeps-people-directory")})})}),(0,h.jsx)(y,{...m,children:P})]})}})})();
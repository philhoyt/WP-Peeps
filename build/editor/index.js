(()=>{"use strict";const e=window.wp.i18n,p=window.wp.plugins,t=window.wp.editor,s=window.wp.components,n=window.wp.element,a=window.wp.data,_=window.wp.coreData,l=window.ReactJSXRuntime;(0,p.registerPlugin)("wp-peeps-name-fields-panel",{render:function(){const[p,i]=(0,_.useEntityProp)("postType","people","meta"),[,o]=(0,_.useEntityProp)("postType","people","title"),[,r]=(0,_.useEntityProp)("postType","people","slug"),{lockPostSaving:w,unlockPostSaving:m,editPost:d}=(0,a.dispatch)("core/editor"),u=(0,a.useSelect)((e=>e(_.store).getEntityRecord("root","site")?.wp_peeps_phone_format||"(###) ###-####"));return(0,n.useEffect)((()=>{if(!p)return;const e=p?.wp_peeps_first_name?.trim()||"",t=p?.wp_peeps_middle_name?.trim()||"",s=p?.wp_peeps_last_name?.trim()||"";if(!e||!s)return void w("requiredNameFields");m("requiredNameFields");const n=t?`${e} ${t} ${s}`:`${e} ${s}`;o(n),d({title:n});const a=n.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");r(a)}),[p?.wp_peeps_first_name,p?.wp_peeps_middle_name,p?.wp_peeps_last_name]),(0,l.jsxs)(t.PluginDocumentSettingPanel,{name:"wp-peeps-name-fields",title:(0,e.__)("Name Details","wp-peeps"),className:"wp-peeps-name-fields",initialOpen:!0,children:[(0,l.jsx)(s.TextControl,{label:(0,e.__)("First Name","wp-peeps")+" *",value:p?.wp_peeps_first_name||"",onChange:e=>i({...p,wp_peeps_first_name:e}),help:p?.wp_peeps_first_name?.trim()?"":(0,e.__)("First name is required","wp-peeps")}),(0,l.jsx)(s.TextControl,{label:(0,e.__)("Middle Name","wp-peeps"),value:p?.wp_peeps_middle_name||"",onChange:e=>i({...p,wp_peeps_middle_name:e})}),(0,l.jsx)(s.TextControl,{label:(0,e.__)("Last Name","wp-peeps")+" *",value:p?.wp_peeps_last_name||"",onChange:e=>i({...p,wp_peeps_last_name:e}),help:p?.wp_peeps_last_name?.trim()?"":(0,e.__)("Last name is required","wp-peeps")}),(0,l.jsx)(s.TextControl,{label:(0,e.__)("Job Title","wp-peeps"),value:p?.wp_peeps_job_title||"",onChange:e=>i({...p,wp_peeps_job_title:e})}),(0,l.jsx)(s.TextControl,{label:(0,e.__)("Phone","wp-peeps"),value:p?.wp_peeps_phone||"",onChange:e=>{const t=(e=>{const p=e.replace(/\D/g,"");if(!p)return"";let t=u;for(let e=0;e<p.length&&e<10;e++)t=t.replace("#",p[e]);return t=t.replace(/#/g,""),t})(e);i({...p,wp_peeps_phone:t})},help:(0,e.__)("Enter 10 digit phone number","wp-peeps")}),(0,l.jsx)(s.TextControl,{type:"email",label:(0,e.__)("Email","wp-peeps"),value:p?.wp_peeps_email||"",onChange:e=>i({...p,wp_peeps_email:e}),help:(0,e.__)("Enter valid email address","wp-peeps")})]})}})})();
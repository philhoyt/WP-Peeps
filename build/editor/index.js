(()=>{"use strict";var e,o={223:(e,o,t)=>{t.d(o,{A:()=>i});var l=t(573),s=t(790);const i=(0,s.jsx)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,s.jsx)(l.Path,{d:"m3 5c0-1.10457.89543-2 2-2h13.5c1.1046 0 2 .89543 2 2v13.5c0 1.1046-.8954 2-2 2h-13.5c-1.10457 0-2-.8954-2-2zm2-.5h6v6.5h-6.5v-6c0-.27614.22386-.5.5-.5zm-.5 8v6c0 .2761.22386.5.5.5h6v-6.5zm8 0v6.5h6c.2761 0 .5-.2239.5-.5v-6zm0-8v6.5h6.5v-6c0-.27614-.2239-.5-.5-.5z",fillRule:"evenodd",clipRule:"evenodd"})})},641:(e,o,t)=>{t.d(o,{A:()=>i});var l=t(573),s=t(790);const i=(0,s.jsx)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,s.jsx)(l.Path,{d:"m9.99609 14v-.2251l.00391.0001v6.225h1.5v-14.5h2.5v14.5h1.5v-14.5h3v-1.5h-8.50391c-2.76142 0-5 2.23858-5 5 0 2.7614 2.23858 5 5 5z"})})},839:(e,o,t)=>{t.d(o,{A:()=>i});var l=t(573),s=t(790);const i=(0,s.jsx)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,s.jsx)(l.Path,{d:"M4.75 4a.75.75 0 0 0-.75.75v7.826c0 .2.08.39.22.53l6.72 6.716a2.313 2.313 0 0 0 3.276-.001l5.61-5.611-.531-.53.532.528a2.315 2.315 0 0 0 0-3.264L13.104 4.22a.75.75 0 0 0-.53-.22H4.75ZM19 12.576a.815.815 0 0 1-.236.574l-5.61 5.611a.814.814 0 0 1-1.153 0L5.5 12.264V5.5h6.763l6.5 6.502a.816.816 0 0 1 .237.574ZM8.75 9.75a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"})})},481:(e,o,t)=>{var l=t(997),s=t(573),i=t(790);const r=(0,i.jsx)(s.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)(s.Path,{d:"M12.5939 21C14.1472 21 16.1269 20.5701 17.0711 20.1975L16.6447 18.879C16.0964 19.051 14.3299 19.6242 12.6548 19.6242C7.4467 19.6242 4.67513 16.8726 4.67513 12C4.67513 7.21338 7.50762 4.34713 12.2893 4.34713C17.132 4.34713 19.4162 7.55732 19.4162 10.7675C19.4162 14.035 19.0508 15.4968 17.4975 15.4968C16.5838 15.4968 16.0964 14.7803 16.0964 13.9777V7.5H14.4822V8.30255H14.3909C14.1777 7.67198 12.9898 7.12739 11.467 7.2707C9.18274 7.5 7.4467 9.27707 7.4467 11.8567C7.4467 14.5796 8.81726 16.672 11.467 16.758C13.203 16.8153 14.1168 16.0127 14.4822 15.1815H14.5736C14.7563 16.414 16.401 16.8439 17.467 16.8439C20.6954 16.8439 21 13.5764 21 10.7962C21 6.86943 18.0761 3 12.3807 3C6.50254 3 3 6.3535 3 11.9427C3 17.7325 6.38071 21 12.5939 21ZM11.7107 15.2962C9.73096 15.2962 9.03046 13.6051 9.03046 11.7707C9.03046 10.1083 10.0355 8.67516 11.7716 8.67516C13.599 8.67516 14.5736 9.36306 14.5736 11.7707C14.5736 14.1497 13.7513 15.2962 11.7107 15.2962Z"})});var n=t(723),p=t(715),a=t(427),c=t(582),h=t(143),d=t(641),m=t(223),u=t(839);const g=["core/bold","core/image","core/italic","core/link","core/strikethrough","core/text-color"],_=[{title:(0,n.__)("Paragraph","peeps-people-directory"),value:"p",icon:d.A},{title:(0,n.__)("Div","peeps-people-directory"),value:"div",icon:m.A},{title:(0,n.__)("Span","peeps-people-directory"),value:"span",icon:u.A}],v=JSON.parse('{"UU":"ph-peeps/email"}');(0,l.registerBlockType)(v.UU,{icon:r,edit:function({attributes:e,setAttributes:o,isSelected:t,context:l}){const{tagName:s,makeLink:r,prefix:d,textAlign:m}=e,{postType:u,postId:v}=l,x=(0,p.useBlockProps)({className:m?`has-text-align-${m}`:void 0}),w=(0,h.useSelect)((e=>v?e(c.store).getEntityRecord("postType",u||"ph_peeps_people",v):null),[v,u]),y=w?.meta?.ph_peeps_email||"name@domain.com",b=s,j=y&&"name@domain.com"!==y?(0,i.jsx)("a",{href:`mailto:${y}`,children:y}):y,k=(0,i.jsxs)(i.Fragment,{children:[(t||d)&&(0,i.jsx)(p.RichText,{identifier:"prefix",allowedFormats:g,className:"wp-block-ph-peeps-email__prefix","aria-label":(0,n.__)("Prefix"),placeholder:(0,n.__)("Prefix","peeps-people-directory")+" ",value:d,onChange:e=>o({prefix:e}),tagName:"span"}),r?j:y]}),C=_.find((e=>e.value===s));return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.BlockControls,{children:(0,i.jsx)(a.ToolbarGroup,{children:(0,i.jsx)(a.ToolbarDropdownMenu,{icon:C?.icon,label:(0,n.__)("HTML element","peeps-people-directory"),controls:_.map((({title:e,value:t,icon:l})=>({title:e,icon:l,isActive:s===t,onClick:()=>o({tagName:t})})))})})}),(0,i.jsx)(p.InspectorControls,{children:(0,i.jsx)(a.PanelBody,{title:(0,n.__)("Settings","peeps-people-directory"),children:(0,i.jsx)(a.ToggleControl,{label:(0,n.__)("Make Email Link","peeps-people-directory"),checked:r,onChange:()=>o({makeLink:!r}),help:r?(0,n.__)("Email address will be clickable","peeps-people-directory"):(0,n.__)("Email address will be plain text","peeps-people-directory")})})}),(0,i.jsx)(b,{...x,children:k})]})}})},964:(e,o,t)=>{var l=t(997),s=t(723),i=t(715),r=t(427),n=t(143),p=t(582),a=t(573),c=t(790);const h=(0,c.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,c.jsx)(a.Path,{d:"M17.6 7c-.6.9-1.5 1.7-2.6 2v1h2v7h2V7h-1.4zM11 11H7V7H5v10h2v-4h4v4h2V7h-2v4z"})}),d=(0,c.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,c.jsx)(a.Path,{d:"M9 11.1H5v-4H3v10h2v-4h4v4h2v-10H9v4zm8 4c.5-.4.6-.6 1.1-1.1.4-.4.8-.8 1.2-1.3.3-.4.6-.8.9-1.3.2-.4.3-.8.3-1.3 0-.4-.1-.9-.3-1.3-.2-.4-.4-.7-.8-1-.3-.3-.7-.5-1.2-.6-.5-.2-1-.2-1.5-.2-.4 0-.7 0-1.1.1-.3.1-.7.2-1 .3-.3.1-.6.3-.9.5-.3.2-.6.4-.8.7l1.2 1.2c.3-.3.6-.5 1-.7.4-.2.7-.3 1.2-.3s.9.1 1.3.4c.3.3.5.7.5 1.1 0 .4-.1.8-.4 1.1-.3.5-.6.9-1 1.2-.4.4-1 .9-1.6 1.4-.6.5-1.4 1.1-2.2 1.6v1.5h8v-2H17z"})}),m=(0,c.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,c.jsx)(a.Path,{d:"M9 11H5V7H3v10h2v-4h4v4h2V7H9v4zm11.3 1.7c-.4-.4-1-.7-1.6-.8v-.1c.6-.2 1.1-.5 1.5-.9.3-.4.5-.8.5-1.3 0-.4-.1-.8-.3-1.1-.2-.3-.5-.6-.8-.8-.4-.2-.8-.4-1.2-.5-.6-.1-1.1-.2-1.6-.2-.6 0-1.3.1-1.8.3s-1.1.5-1.6.9l1.2 1.4c.4-.2.7-.4 1.1-.6.3-.2.7-.3 1.1-.3.4 0 .8.1 1.1.3.3.2.4.5.4.8 0 .4-.2.7-.6.9-.7.3-1.5.5-2.2.4v1.6c.5 0 1 0 1.5.1.3.1.7.2 1 .3.2.1.4.2.5.4s.1.4.1.6c0 .3-.2.7-.5.8-.4.2-.9.3-1.4.3s-1-.1-1.4-.3c-.4-.2-.8-.4-1.2-.7L13 15.6c.5.4 1 .8 1.6 1 .7.3 1.5.4 2.3.4.6 0 1.1-.1 1.6-.2.4-.1.9-.2 1.3-.5.4-.2.7-.5.9-.9.2-.4.3-.8.3-1.2 0-.6-.3-1.1-.7-1.5z"})}),u=(0,c.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,c.jsx)(a.Path,{d:"M20 13V7h-3l-4 6v2h5v2h2v-2h1v-2h-1zm-2 0h-2.8L18 9v4zm-9-2H5V7H3v10h2v-4h4v4h2V7H9v4z"})}),g=(0,c.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,c.jsx)(a.Path,{d:"M9 11H5V7H3v10h2v-4h4v4h2V7H9v4zm11.7 1.2c-.2-.3-.5-.7-.8-.9-.3-.3-.7-.5-1.1-.6-.5-.1-.9-.2-1.4-.2-.2 0-.5.1-.7.1-.2.1-.5.1-.7.2l.1-1.9h4.3V7H14l-.3 5 1 .6.5-.2.4-.1c.1-.1.3-.1.4-.1h.5c.5 0 1 .1 1.4.4.4.2.6.7.6 1.1 0 .4-.2.8-.6 1.1-.4.3-.9.4-1.4.4-.4 0-.9-.1-1.3-.3-.4-.2-.7-.4-1.1-.7 0 0-1.1 1.4-1 1.5.5.4 1 .8 1.6 1 .7.3 1.5.4 2.3.4.5 0 1-.1 1.5-.3s.9-.4 1.3-.7c.4-.3.7-.7.9-1.1s.3-.9.3-1.4-.1-1-.3-1.4z"})}),_=(0,c.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,c.jsx)(a.Path,{d:"M20.7 12.4c-.2-.3-.4-.6-.7-.9s-.6-.5-1-.6c-.4-.2-.8-.2-1.2-.2-.5 0-.9.1-1.3.3s-.8.5-1.2.8c0-.5 0-.9.2-1.4l.6-.9c.2-.2.5-.4.8-.5.6-.2 1.3-.2 1.9 0 .3.1.6.3.8.5 0 0 1.3-1.3 1.3-1.4-.4-.3-.9-.6-1.4-.8-.6-.2-1.3-.3-2-.3-.6 0-1.1.1-1.7.4-.5.2-1 .5-1.4.9-.4.4-.8 1-1 1.6-.3.7-.4 1.5-.4 2.3s.1 1.5.3 2.1c.2.6.6 1.1 1 1.5.4.4.9.7 1.4.9 1 .3 2 .3 3 0 .4-.1.8-.3 1.2-.6.3-.3.6-.6.8-1 .2-.5.3-.9.3-1.4s-.1-.9-.3-1.3zm-2 2.1c-.1.2-.3.4-.4.5-.1.1-.3.2-.5.2-.2.1-.4.1-.6.1-.2.1-.5 0-.7-.1-.2 0-.3-.2-.5-.3-.1-.2-.3-.4-.4-.6-.2-.3-.3-.7-.3-1 .3-.3.6-.5 1-.7.3-.1.7-.2 1-.2.4 0 .8.1 1.1.3.3.3.4.7.4 1.1 0 .2 0 .5-.1.7zM9 11H5V7H3v10h2v-4h4v4h2V7H9v4z"})});var v=t(641),x=t(223);const w=[{title:(0,s.__)("Heading 1","peeps-people-directory"),value:"h1",icon:h,isHeading:!0},{title:(0,s.__)("Heading 2","peeps-people-directory"),value:"h2",icon:d,isHeading:!0},{title:(0,s.__)("Heading 3","peeps-people-directory"),value:"h3",icon:m,isHeading:!0},{title:(0,s.__)("Heading 4","peeps-people-directory"),value:"h4",icon:u,isHeading:!0},{title:(0,s.__)("Heading 5","peeps-people-directory"),value:"h5",icon:g,isHeading:!0},{title:(0,s.__)("Heading 6","peeps-people-directory"),value:"h6",icon:_,isHeading:!0},{title:(0,s.__)("Paragraph","peeps-people-directory"),value:"p",icon:v.A},{title:(0,s.__)("Div","peeps-people-directory"),value:"div",icon:x.A}],y=JSON.parse('{"UU":"ph-peeps/full-name"}');(0,l.registerBlockType)(y.UU,{edit:function({attributes:e,setAttributes:o,context:t}){const{showFirst:l,showMiddle:a,showLast:h,tagName:d,makeLink:m,openInNewTab:u,linkRel:g}=e,_=(0,i.useBlockProps)(),{postType:v,postId:x}=t,y=(0,n.useSelect)((e=>x?e(p.store).getEntityRecord("postType",v||"ph_peeps_people",x):null),[x,v]),b=[l?y?.meta?.ph_peeps_first_name||"First":"",a?y?.meta?.ph_peeps_middle_name||"Middle":"",h?y?.meta?.ph_peeps_last_name||"Last":""].filter(Boolean),j=b.length>0?b.join(" "):(0,s.__)("Select name parts to display","peeps-people-directory"),k=d,C=w.find((e=>e.value===d));return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(i.BlockControls,{children:(0,c.jsx)(r.ToolbarGroup,{children:(0,c.jsx)(r.ToolbarDropdownMenu,{icon:C?.icon,label:(0,s.__)("Change text element","peeps-people-directory"),controls:w.map((e=>({title:e.title,icon:e.icon,isActive:e.value===d,onClick:()=>o({tagName:e.value})})))})})}),(0,c.jsxs)(i.InspectorControls,{children:[(0,c.jsxs)(r.PanelBody,{title:(0,s.__)("Name Settings","peeps-people-directory"),children:[(0,c.jsx)(r.ToggleControl,{label:(0,s.__)("Show First Name","peeps-people-directory"),checked:l,onChange:()=>o({showFirst:!l})}),(0,c.jsx)(r.ToggleControl,{label:(0,s.__)("Show Middle Name","peeps-people-directory"),checked:a,onChange:()=>o({showMiddle:!a})}),(0,c.jsx)(r.ToggleControl,{label:(0,s.__)("Show Last Name","peeps-people-directory"),checked:h,onChange:()=>o({showLast:!h})})]}),(0,c.jsxs)(r.PanelBody,{title:(0,s.__)("Link Settings","peeps-people-directory"),children:[(0,c.jsx)(r.ToggleControl,{label:(0,s.__)("Make a Link","peeps-people-directory"),checked:m,onChange:()=>o({makeLink:!m}),help:m?(0,s.__)("Name will be clickable","peeps-people-directory"):(0,s.__)("Name will be plain text","peeps-people-directory")}),m&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(r.ToggleControl,{label:(0,s.__)("Open in New Tab","peeps-people-directory"),checked:u,onChange:()=>o({openInNewTab:!u})}),(0,c.jsx)(r.TextControl,{label:(0,s.__)("Link Rel","peeps-people-directory"),value:g,onChange:e=>o({linkRel:e}),help:(0,s.__)("Add rel attributes for the link","peeps-people-directory")})]})]})]}),(0,c.jsx)(k,{..._,children:j})]})}})},855:(e,o,t)=>{var l=t(997),s=t(723),i=t(715),r=t(427),n=t(582),p=t(143),a=t(641),c=t(223),h=t(839),d=t(790);const m=["core/bold","core/image","core/italic","core/link","core/strikethrough","core/text-color"],u=[{title:(0,s.__)("Paragraph","peeps-people-directory"),value:"p",icon:a.A},{title:(0,s.__)("Div","peeps-people-directory"),value:"div",icon:c.A},{title:(0,s.__)("Span","peeps-people-directory"),value:"span",icon:h.A}],g=JSON.parse('{"UU":"ph-peeps/phone"}');(0,l.registerBlockType)(g.UU,{edit:function({attributes:e,setAttributes:o,isSelected:t,context:l}){const{tagName:a,makeLink:c,prefix:h,textAlign:g}=e,{postType:_,postId:v}=l,x=(0,i.useBlockProps)({className:g?`has-text-align-${g}`:void 0}),w=(0,p.useSelect)((e=>v?e(n.store).getEntityRecord("postType",_||"ph_peeps_people",v):null),[v,_]),y=(0,p.useSelect)((e=>e(n.store).getEntityRecord("root","site")?.ph_peeps_phone_format||"(###) ###-####"),[]),b=w?.meta?.ph_peeps_phone,j=((e,o)=>{if(!e||!o)return o||"";const t=e.replace(/[^0-9]/g,"");let l=o;for(let e=0;e<t.length&&e<(o.match(/#/g)||[]).length;e++)l=l.replace("#",t[e]);return l.replace(/#/g,"")})(b||"",y),k=a,C=b?(0,d.jsx)("a",{href:`tel:${b.replace(/[^0-9+]/g,"")}`,children:j}):j,f=(0,d.jsxs)(d.Fragment,{children:[(t||h)&&(0,d.jsx)(i.RichText,{identifier:"prefix",allowedFormats:m,className:"wp-block-ph-peeps-phone__prefix","aria-label":(0,s.__)("Prefix"),placeholder:(0,s.__)("Prefix","peeps-people-directory")+" ",value:h,onChange:e=>o({prefix:e}),tagName:"span"}),c?C:j]}),P=u.find((e=>e.value===a));return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i.BlockControls,{children:(0,d.jsx)(r.ToolbarGroup,{children:(0,d.jsx)(r.ToolbarDropdownMenu,{icon:P?.icon,label:(0,s.__)("Change text element","peeps-people-directory"),controls:u.map((e=>({title:e.title,icon:e.icon,isActive:e.value===a,onClick:()=>o({tagName:e.value})})))})})}),(0,d.jsx)(i.InspectorControls,{children:(0,d.jsx)(r.PanelBody,{title:(0,s.__)("Phone Settings","peeps-people-directory"),children:(0,d.jsx)(r.ToggleControl,{label:(0,s.__)("Make Phone Link","peeps-people-directory"),checked:c,onChange:()=>o({makeLink:!c}),help:c?(0,s.__)("Phone number will be clickable","peeps-people-directory"):(0,s.__)("Phone number will be plain text","peeps-people-directory")})})}),(0,d.jsx)(k,{...x,children:f})]})}})},913:(e,o,t)=>{var l=t(997),s=t(723),i=t(715),r=t(427);const n=window.wp.serverSideRender;var p=t.n(n),a=t(573),c=t(790);const h=(0,c.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,c.jsx)(a.Path,{d:"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"})}),d=(0,c.jsx)(a.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)(a.Path,{d:"M9 11.8l6.1-4.5c.1.4.4.7.9.7h2c.6 0 1-.4 1-1V5c0-.6-.4-1-1-1h-2c-.6 0-1 .4-1 1v.4l-6.4 4.8c-.2-.1-.4-.2-.6-.2H6c-.6 0-1 .4-1 1v2c0 .6.4 1 1 1h2c.2 0 .4-.1.6-.2l6.4 4.8v.4c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-2c0-.6-.4-1-1-1h-2c-.5 0-.8.3-.9.7L9 12.2v-.4z"})});var m=t(87),u=t(143);const g=[{name:(0,s.__)("Small"),value:"has-small-icon-size"},{name:(0,s.__)("Normal"),value:"has-normal-icon-size"},{name:(0,s.__)("Large"),value:"has-large-icon-size"},{name:(0,s.__)("Huge"),value:"has-huge-icon-size"}],_=JSON.parse('{"UU":"ph-peeps/social-links"}');(0,l.registerBlockType)(_.UU,{edit:function({attributes:e,setAttributes:o}){const{iconColorValue:t,iconBackgroundColorValue:l,size:n="has-normal-icon-size",openInNewTab:a,showLabels:_}=e,v=(0,i.useBlockProps)(),[x,w]=(0,m.useState)(0),y=(0,m.useRef)(!1),{isSaving:b,isDirty:j}=(0,u.useSelect)((e=>{const o=e("core/editor");return{isSaving:e("core").isSavingEntityRecord("postType","ph_peeps_people"),isDirty:!!o&&o.isEditedPostDirty()}}),[]);return(0,m.useEffect)((()=>{!y.current||b||j||w((e=>e+1)),y.current=b}),[b,j]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(i.BlockControls,{children:[(0,c.jsx)(r.ToolbarGroup,{children:(0,c.jsx)(r.ToolbarButton,{icon:h,label:(0,s.__)("Change layout"),onClick:()=>{const t="horizontal"===e.layout?.orientation?"vertical":"horizontal";o({layout:{...e.layout,orientation:t}})}})}),(0,c.jsx)(i.JustifyContentControl,{value:e.layout?.justifyContent,onChange:t=>o({layout:{...e.layout,justifyContent:t}}),allowedControls:["left","center","right","space-between"]})]}),(0,c.jsxs)(i.InspectorControls,{children:[(0,c.jsxs)(r.PanelBody,{title:(0,s.__)("Settings"),children:[(0,c.jsx)(r.ToggleControl,{label:(0,s.__)("Show labels"),checked:_,onChange:()=>o({showLabels:!_})}),(0,c.jsx)(r.ToggleControl,{label:(0,s.__)("Open links in new tab"),checked:a,onChange:()=>o({openInNewTab:!a})})]}),(0,c.jsx)(r.PanelBody,{title:(0,s.__)("Styles"),children:(0,c.jsx)(r.SelectControl,{label:(0,s.__)("Size"),value:n,options:g.map((({name:e,value:o})=>({label:e,value:o}))),onChange:e=>o({size:e})})}),(0,c.jsx)(i.PanelColorSettings,{title:(0,s.__)("Color settings"),colorSettings:[{value:t,onChange:e=>{o({iconColorValue:e})},label:(0,s.__)("Icon color")},{value:l,onChange:e=>{o({iconBackgroundColorValue:e})},label:(0,s.__)("Icon background")}]})]}),(0,c.jsx)("div",{...v,children:(0,c.jsx)(p(),{block:"ph-peeps/social-links",attributes:e,EmptyResponsePlaceholder:()=>(0,c.jsx)(r.Placeholder,{icon:d,label:(0,s.__)("Social Links"),instructions:(0,s.__)("Add social links in the Person settings to display them here.")}),LoadingResponsePlaceholder:()=>(0,c.jsx)(r.Placeholder,{icon:d,label:(0,s.__)("Social Links"),children:(0,c.jsx)(r.Spinner,{})})},x)})]})}})},755:(e,o,t)=>{var l=t(723);const s=window.wp.plugins,i=window.wp.editor;var r=t(427),n=t(87),p=t(143),a=t(582);const c=window.wp.editPost;var h=t(573),d=t(790);const m=(0,d.jsx)(h.SVG,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,d.jsx)(h.Path,{d:"M8 7h2V5H8v2zm0 6h2v-2H8v2zm0 6h2v-2H8v2zm6-14v2h2V5h-2zm0 8h2v-2h-2v2zm0 6h2v-2h-2v2z"})});t(964),t(855),t(913),t(481);const u=(0,l.__)("This field is required","peeps-people-directory"),g=(0,l.__)("Please enter a valid email address","peeps-people-directory"),_=(0,l.__)("Please enter a valid URL","peeps-people-directory"),v="ph_peeps_first_name",x="ph_peeps_middle_name",w="ph_peeps_last_name",y="ph_peeps_phone",b="ph_peeps_email",j={amazon:/amazon\./i,bandcamp:/bandcamp\.com/i,behance:/behance\.net/i,bluesky:/(?:bsky\.app|bsky\.social)/i,codepen:/codepen\.io/i,deviantart:/deviantart\.com/i,dribbble:/dribbble\.com/i,dropbox:/dropbox\.com/i,etsy:/etsy\.com/i,facebook:/(?:facebook\.com|fb\.com|fb\.me)/i,flickr:/flickr\.com/i,foursquare:/foursquare\.com/i,github:/github\.com/i,goodreads:/goodreads\.com/i,google:/(?:google\.com|plus\.google\.com)/i,instagram:/(?:instagram\.com|instagr\.am)/i,lastfm:/last\.fm/i,linkedin:/linkedin\.com/i,mastodon:/@.*@.*\.[a-z]+/i,medium:/medium\.com/i,meetup:/meetup\.com/i,pinterest:/pinterest\./i,pocket:/getpocket\.com/i,reddit:/reddit\.com/i,skype:/skype\.com/i,snapchat:/snapchat\.com/i,soundcloud:/soundcloud\.com/i,spotify:/spotify\.com/i,telegram:/t\.me/i,tumblr:/tumblr\.com/i,twitch:/twitch\.tv/i,twitter:/twitter\.com/i,x:/x\.com/i,vimeo:/vimeo\.com/i,whatsapp:/(?:whatsapp\.com|wa\.me)/i,wordpress:/(?:wordpress\.org|wordpress\.com)/i,yelp:/yelp\./i,youtube:/(?:youtube\.com|youtu\.be)/i},k=(e,o)=>{if(!e)return"";const t=e.replace(/\D/g,"");let l=o;for(let e=0;e<t.length&&e<(o.match(/#/g)||[]).length;e++)l=l.replace("#",t[e]);return t.length>(o.match(/#/g)||[]).length&&(l+=t.slice((o.match(/#/g)||[]).length)),l.replace(/#/g,"")},C=e=>{try{const o=new URL(e);for(const[t,l]of Object.entries(j))if(l.test(o.hostname)||l.test(e))return t;return"chain"}catch(e){return"chain"}};(0,s.registerPlugin)("ph-peeps-person-details",{render:function(){const e=(0,p.useSelect)((e=>e("core/editor").getCurrentPostType()),[]),{openGeneralSidebar:o,toggleEditorPanelOpened:t}=(0,p.useDispatch)(c.store),s=(0,p.useSelect)((e=>e("core/editor").isEditedPostNew()),[]);(0,n.useEffect)((()=>{if("ph_peeps_people"===e&&s){o("edit-post/document");const e=setTimeout((()=>{t("ph-peeps-name-panel")}),100);return()=>clearTimeout(e)}}),[e,s,t,o]);const[h,m]=(0,a.useEntityProp)("postType","ph_peeps_people","meta"),[,_]=(0,a.useEntityProp)("postType","ph_peeps_people","title"),[,j]=(0,a.useEntityProp)("postType","ph_peeps_people","slug"),[C,f]=(0,n.useState)({}),{lockPostSaving:P,unlockPostSaving:S,editPost:T}=(0,p.dispatch)("core/editor"),z=(0,p.useSelect)((e=>e(a.store).getEntityRecord("root","site")?.ph_peeps_phone_format||"(###) ###-####"),[]),H=(0,n.useCallback)(((e,o)=>{m({...h,[e]:o}),f((o=>o[e]?{...o,[e]:null}:o))}),[h,m]),N=(0,n.useCallback)((()=>{const e={};return h?.[v]?.trim()||(e[v]=u),h?.[w]?.trim()||(e[w]=u),h?.[b]&&(o=h[b],!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o))&&(e[b]=g),f(e),0===Object.keys(e).length;var o}),[h]),B=(0,n.useCallback)((()=>{N()?S("requiredNameFields"):P("requiredNameFields")}),[N,P,S]);return(0,n.useEffect)((()=>{h&&B()}),[h,B]),(0,n.useEffect)((()=>{if(!h)return;const e=[h[v]?.trim()||"",h[x]?.trim()||"",h[w]?.trim()||""].filter(Boolean).join(" ");_(e),T({title:e}),j(e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""))}),[h,_,j,T]),"ph_peeps_people"!==e?null:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(i.PluginDocumentSettingPanel,{name:"ph-peeps-name-panel",title:(0,l.__)("Person Name","peeps-people-directory"),className:"ph-peeps-name-panel",children:[(0,d.jsx)(r.TextControl,{label:(0,l.__)("First Name","peeps-people-directory")+" *",value:h?.[v]||"",onChange:e=>H(v,e),help:C[v]||"",className:C[v]?"has-error":""}),(0,d.jsx)(r.TextControl,{label:(0,l.__)("Middle Name","peeps-people-directory"),value:h?.[x]||"",onChange:e=>H(x,e)}),(0,d.jsx)(r.TextControl,{label:(0,l.__)("Last Name","peeps-people-directory")+" *",value:h?.[w]||"",onChange:e=>H(w,e),help:C[w]||"",className:C[w]?"has-error":""})]}),(0,d.jsxs)(i.PluginDocumentSettingPanel,{name:"ph-peeps-contact-panel",title:(0,l.__)("Contact Information","peeps-people-directory"),className:"ph-peeps-contact-panel",children:[(0,d.jsx)(r.TextControl,{label:(0,l.__)("Phone","peeps-people-directory"),value:h?.[y]?k(h[y],z):"",onChange:e=>H(y,e),help:(0,l.__)("Enter between 10â€“15 digit phone number","peeps-people-directory"),type:"tel"}),(0,d.jsx)(r.TextControl,{type:"email",label:(0,l.__)("Email","peeps-people-directory"),value:h?.[b]||"",onChange:e=>H(b,e),help:C[b]||"",className:C[b]?"has-error":""})]})]})}}),(0,s.registerPlugin)("ph-peeps-social-links-panel",{render:function(){const e=(0,p.useSelect)((e=>e("core/editor").getCurrentPostType()),[]),[o,t]=(0,a.useEntityProp)("postType","ph_peeps_people","meta"),[s,c]=(0,n.useState)(""),[h,u]=(0,n.useState)(""),[g,v]=(0,n.useState)(null),x=(0,n.useMemo)((()=>o?.ph_peeps_social_links||[]),[o]),w=(0,n.useCallback)((e=>{v(e)}),[]),y=(0,n.useCallback)((e=>{t({...o,ph_peeps_social_links:e})}),[o,t]),b=(0,n.useCallback)(((e,o)=>{if(e.preventDefault(),null===g||g===o)return;const t=[...x],[l]=t.splice(g,1);t.splice(o,0,l),y(t),v(o)}),[g,x,y]),j=(0,n.useCallback)((()=>{if(!s)return void u((0,l.__)("Please enter a URL","peeps-people-directory"));if(!(e=>{try{const o=new URL(e);return"http:"===o.protocol||"https:"===o.protocol}catch(e){return!1}})(s))return void u(_);const e=C(s),o=[...x,{platform:e,url:s}];y(o),c(""),u("")}),[s,x,y]),k=(0,n.useCallback)((e=>{const o=x.filter(((o,t)=>t!==e));y(o)}),[x,y]),f=(0,n.useCallback)(((e,o)=>(0,d.jsxs)(r.Flex,{align:"center",gap:4,className:"social-link-item "+(g===o?"is-dragging":""),style:{cursor:"grab"},draggable:!0,onDragStart:()=>w(o),onDragOver:e=>b(e,o),onDragEnd:()=>v(null),children:[(0,d.jsx)(r.FlexItem,{children:(0,d.jsx)(r.Icon,{icon:m})}),(0,d.jsx)(r.FlexItem,{style:{flex:1},children:(0,d.jsx)(r.TextControl,{value:e.url,onChange:e=>{const t=C(e),l=[...x];l[o]={platform:t,url:e},y(l)}})}),(0,d.jsx)(r.FlexItem,{children:(0,d.jsx)(r.Button,{isDestructive:!0,onClick:()=>k(o),icon:"no-alt",label:(0,l.__)("Remove social link","peeps-people-directory")})})]},o)),[g,w,b,x,y,k]);return"ph_peeps_people"!==e?null:(0,d.jsxs)(i.PluginDocumentSettingPanel,{name:"ph-peeps-social-links",title:(0,l.__)("Social Links","peeps-people-directory"),className:"ph-peeps-social-links",children:[x.map(f),(0,d.jsxs)(r.Flex,{align:"flex-end",gap:4,className:"add-social-link",children:[(0,d.jsx)(r.FlexItem,{style:{flex:1},children:(0,d.jsx)(r.TextControl,{label:(0,l.__)("Add Social Link","peeps-people-directory"),value:s,onChange:e=>{c(e),u("")},help:h,className:h?"has-error":""})}),(0,d.jsx)(r.FlexItem,{style:{marginBottom:8},children:(0,d.jsx)(r.Button,{variant:"secondary",onClick:j,disabled:!s,children:(0,l.__)("Add","peeps-people-directory")})})]})]})}})},790:e=>{e.exports=window.ReactJSXRuntime},715:e=>{e.exports=window.wp.blockEditor},997:e=>{e.exports=window.wp.blocks},427:e=>{e.exports=window.wp.components},582:e=>{e.exports=window.wp.coreData},143:e=>{e.exports=window.wp.data},87:e=>{e.exports=window.wp.element},723:e=>{e.exports=window.wp.i18n},573:e=>{e.exports=window.wp.primitives}},t={};function l(e){var s=t[e];if(void 0!==s)return s.exports;var i=t[e]={exports:{}};return o[e](i,i.exports,l),i.exports}l.m=o,e=[],l.O=(o,t,s,i)=>{if(!t){var r=1/0;for(c=0;c<e.length;c++){for(var[t,s,i]=e[c],n=!0,p=0;p<t.length;p++)(!1&i||r>=i)&&Object.keys(l.O).every((e=>l.O[e](t[p])))?t.splice(p--,1):(n=!1,i<r&&(r=i));if(n){e.splice(c--,1);var a=s();void 0!==a&&(o=a)}}return o}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[t,s,i]},l.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return l.d(o,{a:o}),o},l.d=(e,o)=>{for(var t in o)l.o(o,t)&&!l.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},l.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={180:0,233:0,737:0,780:0,869:0,805:0};l.O.j=o=>0===e[o];var o=(o,t)=>{var s,i,[r,n,p]=t,a=0;if(r.some((o=>0!==e[o]))){for(s in n)l.o(n,s)&&(l.m[s]=n[s]);if(p)var c=p(l)}for(o&&o(t);a<r.length;a++)i=r[a],l.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return l.O(c)},t=globalThis.webpackChunkpeeps_people_directory=globalThis.webpackChunkpeeps_people_directory||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))})();var s=l.O(void 0,[805],(()=>l(755)));s=l.O(s)})();
(()=>{"use strict";const e=window.wp.i18n,t=window.wp.plugins,n=window.wp.editor,p=window.wp.components,a=window.wp.element,l=window.wp.data,i=window.wp.coreData,s=window.ReactJSXRuntime;(0,t.registerPlugin)("wp-peeps-name-fields-panel",{render:function(){const[t,o]=(0,i.useEntityProp)("postType","people","meta"),[,r]=(0,i.useEntityProp)("postType","people","title"),[,m]=(0,i.useEntityProp)("postType","people","slug"),{lockPostSaving:_,unlockPostSaving:d,editPost:w}=(0,l.dispatch)("core/editor"),u=(0,l.useSelect)((e=>e(i.store).getEntityRecord("root","site")?.wp_peeps_phone_format||"(###) ###-####"));return(0,a.useEffect)((()=>{if(!t)return;const e=t?.first_name?.trim()||"",n=t?.middle_name?.trim()||"",p=t?.last_name?.trim()||"";if(!e||!p)return void _("requiredNameFields");d("requiredNameFields");const a=n?`${e} ${n} ${p}`:`${e} ${p}`;r(a),w({title:a});const l=a.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");m(l)}),[t?.first_name,t?.middle_name,t?.last_name]),(0,s.jsxs)(n.PluginDocumentSettingPanel,{name:"wp-peeps-name-fields",title:(0,e.__)("Name Details","wp-peeps"),className:"wp-peeps-name-fields",initialOpen:!0,children:[(0,s.jsx)(p.TextControl,{label:(0,e.__)("First Name","wp-peeps")+" *",value:t?.first_name||"",onChange:e=>o({...t,first_name:e}),help:t?.first_name?.trim()?"":(0,e.__)("First name is required","wp-peeps")}),(0,s.jsx)(p.TextControl,{label:(0,e.__)("Middle Name","wp-peeps"),value:t?.middle_name||"",onChange:e=>o({...t,middle_name:e})}),(0,s.jsx)(p.TextControl,{label:(0,e.__)("Last Name","wp-peeps")+" *",value:t?.last_name||"",onChange:e=>o({...t,last_name:e}),help:t?.last_name?.trim()?"":(0,e.__)("Last name is required","wp-peeps")}),(0,s.jsx)(p.TextControl,{label:(0,e.__)("Job Title","wp-peeps"),value:t?.job_title||"",onChange:e=>o({...t,job_title:e})}),(0,s.jsx)(p.TextControl,{label:(0,e.__)("Phone","wp-peeps"),value:t?.phone||"",onChange:e=>{const n=(e=>{const t=e.replace(/\D/g,"");if(!t)return"";let n=u;for(let e=0;e<t.length&&e<10;e++)n=n.replace("#",t[e]);return n=n.replace(/#/g,""),n})(e);o({...t,phone:n})},help:(0,e.__)("Enter 10 digit phone number","wp-peeps")}),(0,s.jsx)(p.TextControl,{type:"email",label:(0,e.__)("Email","wp-peeps"),value:t?.email||"",onChange:e=>o({...t,email:e}),help:(0,e.__)("Enter valid email address","wp-peeps")})]})}})})();
(()=>{"use strict";var e,s={410:()=>{const e=window.wp.element,s=window.wp.i18n,p=window.wp.components,t=window.wp.data,l=window.wp.coreData,i=window.ReactJSXRuntime,a=function(){var a,o,n,r,h,_,c,d;const{saveEntityRecord:u}=(0,t.useDispatch)(l.store),[m,v]=(0,e.useState)({}),[g,b]=(0,e.useState)(!1),[w,x]=(0,e.useState)(!1),[j,f]=(0,e.useState)(null),[y,N]=(0,e.useState)(""),{isPublic:S,hasArchive:P,phoneFormat:C,cptSlug:k,menuPosition:B,isSaving:D}=(0,t.useSelect)((e=>{const s=e(l.store).getEditedEntityRecord("root","site",void 0);return{isPublic:s.ph_peeps_public_cpt,hasArchive:s.ph_peeps_has_archive,phoneFormat:s.ph_peeps_phone_format,cptSlug:s.ph_peeps_cpt_slug,menuPosition:s.ph_peeps_menu_position,isSaving:e(l.store).isSavingEntityRecord("root","site")}})),O=[{value:"5",label:(0,s.__)("Below Posts (5)","ph-peeps")},{value:"10",label:(0,s.__)("Below Media (10)","ph-peeps")},{value:"15",label:(0,s.__)("Below Links (15)","ph-peeps")},{value:"20",label:(0,s.__)("Below Pages (20)","ph-peeps")},{value:"25",label:(0,s.__)("Below Comments (25)","ph-peeps")},{value:"60",label:(0,s.__)("Below First Separator (60)","ph-peeps")},{value:"65",label:(0,s.__)("Below Plugins (65)","ph-peeps")},{value:"70",label:(0,s.__)("Below Users (70)","ph-peeps")},{value:"75",label:(0,s.__)("Below Tools (75)","ph-peeps")},{value:"80",label:(0,s.__)("Below Settings (80)","ph-peeps")},{value:"100",label:(0,s.__)("Below Second Separator (100)","ph-peeps")}],F=(e,s)=>{v((p=>({...p,[s]:e}))),b(!0)};return(0,i.jsxs)("div",{children:[j&&(0,i.jsx)(p.Notice,{status:"error",isDismissible:!0,onDismiss:()=>f(null),children:j}),w&&(0,i.jsxs)(p.Notice,{status:"warning",isDismissible:!0,onDismiss:()=>x(!1),className:"ph-peeps-notice",children:[(0,s.__)('You changed the directory slug or public status. Please visit the Permalinks page and click "Save Changes" to update your URLs.',"ph-peeps"),(0,i.jsx)("p",{children:(0,i.jsx)("a",{href:"options-permalink.php",className:"button button-secondary",children:(0,s.__)("Visit Permalinks Page","ph-peeps")})})]}),(0,i.jsxs)("div",{className:"wrap ph-peeps-admin",children:[(0,i.jsx)("div",{className:"ph-peeps-header",children:(0,i.jsx)("h1",{children:(0,s.__)("WP Peeps Settings","ph-peeps")})}),(0,i.jsxs)(p.Card,{className:"ph-peeps-card",children:[(0,i.jsx)(p.CardHeader,{children:(0,i.jsx)("h2",{className:"ph-peeps-card__title",children:(0,s.__)("Directory Settings","ph-peeps")})}),(0,i.jsxs)(p.CardBody,{children:[(0,i.jsxs)("div",{className:"ph-peeps-settings",children:[(0,i.jsx)("div",{className:"ph-peeps-setting-row",children:(0,i.jsx)(p.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,s.__)("Make People Directory Public","ph-peeps"),help:(0,s.__)("When enabled, the people directory will be visible to the public.","ph-peeps"),checked:null!==(a=m.ph_peeps_public_cpt)&&void 0!==a?a:S,onChange:e=>F(e,"ph_peeps_public_cpt"),disabled:D})}),(0,i.jsx)("div",{className:"ph-peeps-setting-row",children:(0,i.jsx)(p.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,s.__)("Enable People Archive Page","ph-peeps"),help:(0,s.__)("When enabled, a page listing all people will be available.","ph-peeps"),checked:!!(null!==(o=m.ph_peeps_public_cpt)&&void 0!==o?o:S)&&(null!==(n=m.ph_peeps_has_archive)&&void 0!==n?n:P),onChange:e=>F(e,"ph_peeps_has_archive"),disabled:D||!(null!==(r=m.ph_peeps_public_cpt)&&void 0!==r?r:S)})}),(0,i.jsx)("div",{className:"ph-peeps-setting-row",children:(0,i.jsx)(p.SelectControl,{__nextHasNoMarginBottom:!0,label:(0,s.__)("Menu Position","ph-peeps"),help:(0,s.__)("Choose where the People menu appears in the admin sidebar.","ph-peeps"),value:String(null!==(h=null!==(_=m.ph_peeps_menu_position)&&void 0!==_?_:B)&&void 0!==h?h:"25"),options:O,onChange:e=>F(parseInt(e,10),"ph_peeps_menu_position"),disabled:D})}),(0,i.jsx)("div",{className:"ph-peeps-setting-row",children:(0,i.jsx)(p.TextControl,{__nextHasNoMarginBottom:!0,label:(0,s.__)("Directory Slug","ph-peeps"),help:(0,i.jsxs)(i.Fragment,{children:[(0,s.__)('The URL slug for the people directory (e.g., "staff" would make URLs like /staff/john-doe). Defaults to "',"ph-peeps"),(0,i.jsx)("button",{type:"button",className:"button-link",onClick:()=>F("people","ph_peeps_cpt_slug"),children:"people"}),(0,s.__)('"',"ph-peeps")," ."]}),value:null!==(c=m.ph_peeps_cpt_slug)&&void 0!==c?c:k,onChange:e=>F(e,"ph_peeps_cpt_slug"),disabled:D})}),(0,i.jsxs)("div",{className:"ph-peeps-setting-row",children:[(0,i.jsx)(p.TextControl,{__nextHasNoMarginBottom:!0,label:(0,s.__)("Phone Number Format","ph-peeps"),help:(0,i.jsxs)(i.Fragment,{children:[(0,s.__)("Use # for digits (10–15 digits). Example:","ph-peeps"),(0,i.jsx)("button",{type:"button",className:"button-link",onClick:()=>F("(###) ###-####","ph_peeps_phone_format"),children:"(###) ###-####"})]}),value:null!==(d=m.ph_peeps_phone_format)&&void 0!==d?d:C,onChange:e=>{const p=(e.match(/#/g)||[]).length;N(p<10||p>15?(0,s.__)("Format must contain between 10 and 15 # symbols.","ph-peeps"):""),F(e,"ph_peeps_phone_format")},disabled:D}),y&&(0,i.jsx)(p.Notice,{status:"error",isDismissible:!1,className:"ph-peeps-field-error",children:y})]})]}),(0,i.jsx)("div",{className:"ph-peeps-settings__footer",children:(0,i.jsx)(p.Button,{variant:"primary",onClick:async()=>{if(y)f(y);else{if(void 0!==m.ph_peeps_phone_format){const e=(m.ph_peeps_phone_format.match(/#/g)||[]).length;if(e<10||e>15)return N((0,s.__)("Format must contain between 10 and 15 # symbols.","ph-peeps")),void f((0,s.__)("Phone format must contain between 10 and 15 # symbols.","ph-peeps"))}try{await u("root","site",m),b(!1),f(null),(m.ph_peeps_cpt_slug||void 0!==m.ph_peeps_public_cpt||void 0!==m.ph_peeps_has_archive)&&x(!0)}catch(e){f(e?.message||"Failed to save settings. Please try again.")}}},disabled:!g||D,isBusy:D,children:D?(0,s.__)("Saving…","ph-peeps"):(0,s.__)("Save Changes","ph-peeps")})})]})]})]})]})};(0,e.render)((0,i.jsx)(a,{}),document.getElementById("ph-peeps-settings-root"))}},p={};function t(e){var l=p[e];if(void 0!==l)return l.exports;var i=p[e]={exports:{}};return s[e](i,i.exports,t),i.exports}t.m=s,e=[],t.O=(s,p,l,i)=>{if(!p){var a=1/0;for(h=0;h<e.length;h++){for(var[p,l,i]=e[h],o=!0,n=0;n<p.length;n++)(!1&i||a>=i)&&Object.keys(t.O).every((e=>t.O[e](p[n])))?p.splice(n--,1):(o=!1,i<a&&(a=i));if(o){e.splice(h--,1);var r=l();void 0!==r&&(s=r)}}return s}i=i||0;for(var h=e.length;h>0&&e[h-1][2]>i;h--)e[h]=e[h-1];e[h]=[p,l,i]},t.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),(()=>{var e={773:0,641:0};t.O.j=s=>0===e[s];var s=(s,p)=>{var l,i,[a,o,n]=p,r=0;if(a.some((s=>0!==e[s]))){for(l in o)t.o(o,l)&&(t.m[l]=o[l]);if(n)var h=n(t)}for(s&&s(p);r<a.length;r++)i=a[r],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(h)},p=globalThis.webpackChunkpeeps=globalThis.webpackChunkpeeps||[];p.forEach(s.bind(null,0)),p.push=s.bind(null,p.push.bind(p))})();var l=t.O(void 0,[641],(()=>t(410)));l=t.O(l)})();
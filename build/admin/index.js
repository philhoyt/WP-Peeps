(()=>{"use strict";var e,p={410:()=>{const e=window.wp.element,p=window.wp.i18n,s=window.wp.components,o=window.wp.data,t=window.wp.coreData,l=window.ReactJSXRuntime,i=function(){var i,r,a,n,c,_,d,h;const{saveEntityRecord:u}=(0,o.useDispatch)(t.store),[m,v]=(0,e.useState)({}),[g,b]=(0,e.useState)(!1),[y,w]=(0,e.useState)(!1),[x,j]=(0,e.useState)(null),[f,N]=(0,e.useState)(""),{isPublic:S,hasArchive:P,phoneFormat:C,cptSlug:k,menuPosition:B,isSaving:D}=(0,o.useSelect)((e=>{const p=e(t.store).getEditedEntityRecord("root","site",void 0);return{isPublic:p.ph_peeps_public_cpt,hasArchive:p.ph_peeps_has_archive,phoneFormat:p.ph_peeps_phone_format,cptSlug:p.ph_peeps_cpt_slug,menuPosition:p.ph_peeps_menu_position,isSaving:e(t.store).isSavingEntityRecord("root","site")}})),O=[{value:"5",label:(0,p.__)("Below Posts (5)","peeps-people-directory")},{value:"10",label:(0,p.__)("Below Media (10)","peeps-people-directory")},{value:"15",label:(0,p.__)("Below Links (15)","peeps-people-directory")},{value:"20",label:(0,p.__)("Below Pages (20)","peeps-people-directory")},{value:"25",label:(0,p.__)("Below Comments (25)","peeps-people-directory")},{value:"60",label:(0,p.__)("Below First Separator (60)","peeps-people-directory")},{value:"65",label:(0,p.__)("Below Plugins (65)","peeps-people-directory")},{value:"70",label:(0,p.__)("Below Users (70)","peeps-people-directory")},{value:"75",label:(0,p.__)("Below Tools (75)","peeps-people-directory")},{value:"80",label:(0,p.__)("Below Settings (80)","peeps-people-directory")},{value:"100",label:(0,p.__)("Below Second Separator (100)","peeps-people-directory")}],F=(e,p)=>{v((s=>({...s,[p]:e}))),b(!0)};return(0,l.jsxs)("div",{children:[x&&(0,l.jsx)(s.Notice,{status:"error",isDismissible:!0,onDismiss:()=>j(null),children:x}),y&&(0,l.jsxs)(s.Notice,{status:"warning",isDismissible:!0,onDismiss:()=>w(!1),className:"ph-peeps-notice",children:[(0,p.__)('You changed the directory slug or public status. Please visit the Permalinks page and click "Save Changes" to update your URLs.',"peeps-people-directory"),(0,l.jsx)("p",{children:(0,l.jsx)("a",{href:"options-permalink.php",className:"button button-secondary",children:(0,p.__)("Visit Permalinks Page","peeps-people-directory")})})]}),(0,l.jsxs)("div",{className:"wrap ph-peeps-admin",children:[(0,l.jsx)("div",{className:"ph-peeps-header",children:(0,l.jsx)("h1",{children:(0,p.__)("WP Peeps Settings","peeps-people-directory")})}),(0,l.jsxs)(s.Card,{className:"ph-peeps-card",children:[(0,l.jsx)(s.CardHeader,{children:(0,l.jsx)("h2",{className:"ph-peeps-card__title",children:(0,p.__)("Directory Settings","peeps-people-directory")})}),(0,l.jsxs)(s.CardBody,{children:[(0,l.jsxs)("div",{className:"ph-peeps-settings",children:[(0,l.jsx)("div",{className:"ph-peeps-setting-row",children:(0,l.jsx)(s.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,p.__)("Make People Directory Public","peeps-people-directory"),help:(0,p.__)("When enabled, the people directory will be visible to the public.","peeps-people-directory"),checked:null!==(i=m.ph_peeps_public_cpt)&&void 0!==i?i:S,onChange:e=>F(e,"ph_peeps_public_cpt"),disabled:D})}),(0,l.jsx)("div",{className:"ph-peeps-setting-row",children:(0,l.jsx)(s.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,p.__)("Enable People Archive Page","peeps-people-directory"),help:(0,p.__)("When enabled, a page listing all people will be available.","peeps-people-directory"),checked:!!(null!==(r=m.ph_peeps_public_cpt)&&void 0!==r?r:S)&&(null!==(a=m.ph_peeps_has_archive)&&void 0!==a?a:P),onChange:e=>F(e,"ph_peeps_has_archive"),disabled:D||!(null!==(n=m.ph_peeps_public_cpt)&&void 0!==n?n:S)})}),(0,l.jsx)("div",{className:"ph-peeps-setting-row",children:(0,l.jsx)(s.SelectControl,{__nextHasNoMarginBottom:!0,label:(0,p.__)("Menu Position","peeps-people-directory"),help:(0,p.__)("Choose where the People menu appears in the admin sidebar.","peeps-people-directory"),value:String(null!==(c=null!==(_=m.ph_peeps_menu_position)&&void 0!==_?_:B)&&void 0!==c?c:"25"),options:O,onChange:e=>F(parseInt(e,10),"ph_peeps_menu_position"),disabled:D})}),(0,l.jsx)("div",{className:"ph-peeps-setting-row",children:(0,l.jsx)(s.TextControl,{__nextHasNoMarginBottom:!0,label:(0,p.__)("Directory Slug","peeps-people-directory"),help:(0,l.jsxs)(l.Fragment,{children:[(0,p.__)('The URL slug for the people directory (e.g., "staff" would make URLs like /staff/john-doe). Defaults to "',"peeps-people-directory"),(0,l.jsx)("button",{type:"button",className:"button-link",onClick:()=>F("people","ph_peeps_cpt_slug"),children:"people"}),(0,p.__)('"',"peeps-people-directory")," ."]}),value:null!==(d=m.ph_peeps_cpt_slug)&&void 0!==d?d:k,onChange:e=>F(e,"ph_peeps_cpt_slug"),disabled:D})}),(0,l.jsxs)("div",{className:"ph-peeps-setting-row",children:[(0,l.jsx)(s.TextControl,{__nextHasNoMarginBottom:!0,label:(0,p.__)("Phone Number Format","peeps-people-directory"),help:(0,l.jsxs)(l.Fragment,{children:[(0,p.__)("Use # for digits (10–15 digits). Example:","peeps-people-directory"),(0,l.jsx)("button",{type:"button",className:"button-link",onClick:()=>F("(###) ###-####","ph_peeps_phone_format"),children:"(###) ###-####"})]}),value:null!==(h=m.ph_peeps_phone_format)&&void 0!==h?h:C,onChange:e=>{const s=(e.match(/#/g)||[]).length;N(s<10||s>15?(0,p.__)("Format must contain between 10 and 15 # symbols.","peeps-people-directory"):""),F(e,"ph_peeps_phone_format")},disabled:D}),f&&(0,l.jsx)(s.Notice,{status:"error",isDismissible:!1,className:"ph-peeps-field-error",children:f})]})]}),(0,l.jsx)("div",{className:"ph-peeps-settings__footer",children:(0,l.jsx)(s.Button,{variant:"primary",onClick:async()=>{if(f)j(f);else{if(void 0!==m.ph_peeps_phone_format){const e=(m.ph_peeps_phone_format.match(/#/g)||[]).length;if(e<10||e>15)return N((0,p.__)("Format must contain between 10 and 15 # symbols.","peeps-people-directory")),void j((0,p.__)("Phone format must contain between 10 and 15 # symbols.","peeps-people-directory"))}try{await u("root","site",m),b(!1),j(null),(m.ph_peeps_cpt_slug||void 0!==m.ph_peeps_public_cpt||void 0!==m.ph_peeps_has_archive)&&w(!0)}catch(e){j(e?.message||"Failed to save settings. Please try again.")}}},disabled:!g||D,isBusy:D,children:D?(0,p.__)("Saving…","peeps-people-directory"):(0,p.__)("Save Changes","peeps-people-directory")})})]})]})]})]})};(0,e.render)((0,l.jsx)(i,{}),document.getElementById("ph-peeps-settings-root"))}},s={};function o(e){var t=s[e];if(void 0!==t)return t.exports;var l=s[e]={exports:{}};return p[e](l,l.exports,o),l.exports}o.m=p,e=[],o.O=(p,s,t,l)=>{if(!s){var i=1/0;for(c=0;c<e.length;c++){for(var[s,t,l]=e[c],r=!0,a=0;a<s.length;a++)(!1&l||i>=l)&&Object.keys(o.O).every((e=>o.O[e](s[a])))?s.splice(a--,1):(r=!1,l<i&&(i=l));if(r){e.splice(c--,1);var n=t();void 0!==n&&(p=n)}}return p}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[s,t,l]},o.o=(e,p)=>Object.prototype.hasOwnProperty.call(e,p),(()=>{var e={773:0,641:0};o.O.j=p=>0===e[p];var p=(p,s)=>{var t,l,[i,r,a]=s,n=0;if(i.some((p=>0!==e[p]))){for(t in r)o.o(r,t)&&(o.m[t]=r[t]);if(a)var c=a(o)}for(p&&p(s);n<i.length;n++)l=i[n],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(c)},s=globalThis.webpackChunkpeeps_people_directory=globalThis.webpackChunkpeeps_people_directory||[];s.forEach(p.bind(null,0)),s.push=p.bind(null,s.push.bind(s))})();var t=o.O(void 0,[641],(()=>o(410)));t=o.O(t)})();
(()=>{"use strict";var e,s={410:()=>{const e=window.wp.element,s=window.wp.i18n,t=window.wp.components,p=window.wp.data,i=window.wp.coreData,o=window.ReactJSXRuntime,n=function(){var n,r,a;const{saveEntityRecord:l}=(0,p.useDispatch)(i.store),[c,d]=(0,e.useState)({}),[_,u]=(0,e.useState)(!1),[w,h]=(0,e.useState)(!1),[g,m]=(0,e.useState)(null),{isPublic:v,phoneFormat:b,cptSlug:x,isSaving:j}=(0,p.useSelect)((e=>({isPublic:e(i.store).getEditedEntityRecord("root","site",void 0).wp_peeps_public_cpt,phoneFormat:e(i.store).getEditedEntityRecord("root","site",void 0).wp_peeps_phone_format,cptSlug:e(i.store).getEditedEntityRecord("root","site",void 0).wp_peeps_cpt_slug,isSaving:e(i.store).isSavingEntityRecord("root","site")}))),f=(e,s)=>{d((t=>({...t,[s]:e}))),u(!0)};return(0,o.jsxs)("div",{children:[g&&(0,o.jsx)(t.Notice,{status:"error",isDismissible:!0,onDismiss:()=>m(null),children:g}),w&&(0,o.jsxs)(t.Notice,{status:"warning",isDismissible:!0,onDismiss:()=>h(!1),className:"wp-peeps-notice",children:[(0,s.__)('You changed the directory slug or public status. Please visit the Permalinks page and click "Save Changes" to update your URLs.',"wp-peeps"),(0,o.jsx)("p",{children:(0,o.jsx)("a",{href:"options-permalink.php",className:"button button-secondary",children:(0,s.__)("Visit Permalinks Page","wp-peeps")})})]}),(0,o.jsxs)("div",{className:"wrap wp-peeps-admin",children:[(0,o.jsx)("div",{className:"wp-peeps-header",children:(0,o.jsx)("h1",{children:(0,s.__)("WP Peeps Settings","wp-peeps")})}),(0,o.jsxs)(t.Card,{className:"wp-peeps-card",children:[(0,o.jsx)(t.CardHeader,{children:(0,o.jsx)("h2",{className:"wp-peeps-card__title",children:(0,s.__)("Directory Settings","wp-peeps")})}),(0,o.jsx)(t.CardBody,{children:(0,o.jsxs)("div",{className:"wp-peeps-settings",children:[(0,o.jsx)("div",{className:"wp-peeps-setting-row",children:(0,o.jsx)(t.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,s.__)("Make People Directory Public","wp-peeps"),help:(0,s.__)("When enabled, the people directory will be visible to the public.","wp-peeps"),checked:null!==(n=c.wp_peeps_public_cpt)&&void 0!==n?n:v,onChange:e=>f(e,"wp_peeps_public_cpt"),disabled:j})}),(0,o.jsx)("div",{className:"wp-peeps-setting-row",children:(0,o.jsx)(t.TextControl,{__nextHasNoMarginBottom:!0,label:(0,s.__)("Directory Slug","wp-peeps"),help:(0,o.jsxs)(o.Fragment,{children:[(0,s.__)('The URL slug for the people directory (e.g., "staff" would make URLs like /staff/john-doe). Defaults to "',"wp-peeps"),(0,o.jsx)("button",{type:"button",className:"button-link",onClick:()=>f("people","wp_peeps_cpt_slug"),children:"people"}),(0,s.__)('"',"wp-peeps")," ."]}),value:null!==(r=c.wp_peeps_cpt_slug)&&void 0!==r?r:x,onChange:e=>f(e,"wp_peeps_cpt_slug"),disabled:j})}),(0,o.jsx)("div",{className:"wp-peeps-setting-row",children:(0,o.jsx)(t.TextControl,{__nextHasNoMarginBottom:!0,label:(0,s.__)("Phone Number Format","wp-peeps"),help:(0,o.jsxs)(o.Fragment,{children:[(0,s.__)("Use # for digits. Example:","wp-peeps"),(0,o.jsx)("button",{type:"button",className:"button-link",onClick:()=>f("(###) ###-####","wp_peeps_phone_format"),children:"(###) ###-####"})]}),value:null!==(a=c.wp_peeps_phone_format)&&void 0!==a?a:b,onChange:e=>{(e.match(/#/g)||[]).length>=10&&f(e,"wp_peeps_phone_format")},disabled:j})}),_&&(0,o.jsx)("div",{className:"wp-peeps-settings__footer",children:(0,o.jsx)(t.Button,{variant:"primary",onClick:async()=>{try{await l("root","site",c),u(!1),m(null),(c.wp_peeps_cpt_slug||void 0!==c.wp_peeps_public_cpt)&&h(!0)}catch(e){m(e?.message||"Failed to save settings. Please try again.")}},disabled:j,children:j?(0,s.__)("Savingâ€¦","wp-peeps"):(0,s.__)("Save Changes","wp-peeps")})})]})})]})]})]})};(0,e.render)((0,o.jsx)(n,{}),document.getElementById("wp-peeps-settings-root"))}},t={};function p(e){var i=t[e];if(void 0!==i)return i.exports;var o=t[e]={exports:{}};return s[e](o,o.exports,p),o.exports}p.m=s,e=[],p.O=(s,t,i,o)=>{if(!t){var n=1/0;for(c=0;c<e.length;c++){t=e[c][0],i=e[c][1],o=e[c][2];for(var r=!0,a=0;a<t.length;a++)(!1&o||n>=o)&&Object.keys(p.O).every((e=>p.O[e](t[a])))?t.splice(a--,1):(r=!1,o<n&&(n=o));if(r){e.splice(c--,1);var l=i();void 0!==l&&(s=l)}}return s}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[t,i,o]},p.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),(()=>{var e={773:0,641:0};p.O.j=s=>0===e[s];var s=(s,t)=>{var i,o,n=t[0],r=t[1],a=t[2],l=0;if(n.some((s=>0!==e[s]))){for(i in r)p.o(r,i)&&(p.m[i]=r[i]);if(a)var c=a(p)}for(s&&s(t);l<n.length;l++)o=n[l],p.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return p.O(c)},t=self.webpackChunkwp_peeps=self.webpackChunkwp_peeps||[];t.forEach(s.bind(null,0)),t.push=s.bind(null,t.push.bind(t))})();var i=p.O(void 0,[641],(()=>p(410)));i=p.O(i)})();